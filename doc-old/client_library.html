<html>

<head>

  <meta name="author" content="Andy Seaborne"/>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta http-equiv="Content-Language" content="en-gb">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <meta name="DC.Creator"    content="Andy Seaborne">
  <meta name="DC.Publisher"  content="">
  <meta name="DC.Title"      content="Joseki Java client library">
  <meta name="DC.Rights"
        content="Copyright 2003, 2004, 2005 Hewlett-Packard Development Company LP">
  <meta name="DC.Identifier"
        content="http://www.joseki.org/client_library.html">
  <meta name="DC.Format"     content="text/html; charset=iso-8859-1">
  <meta name="DC.Date"       content="$Date: 2005-06-26 18:39:02 $">
  <meta name="DC.Type"       content="web page">

<title>Joseki Java client library</title>
<link rel="stylesheet" type="text/css" href="StyleSheets/joseki.css">
</head>

<body>

<h1>Joseki: The Client Library</h1>
<p>There is a library of classes to access a remote Joseki server in the package
<code>com.hp.hpl.jena.joseki</code>. There are classes to perform 
<a href="query-languages.html">queries</a> and
<a href="RDF_data_objects.html">fetch RDF data objects</a>, both 
at the protocol level and within the RDQL query framework of
<a href="http://www.hpl.hp.com/semweb/jena-top.html">Jena</a>, and  classes 
to perform the non-query operations like &quot;ping&quot;, &quot;options&quot; as well as modify remote 
RDF graphs by adding and removing RDF graphs from remote models.&nbsp; For operations to succeed, the 
remote server must allow such operations on the target model.</p>
<p>There are also libraries for performing queries for Python and Perl.&nbsp; 
See <code>Python/</code> and <code>Perl/</code>.</p>
<p>Query languages provided in the Joseki distribution are:</p>
<ul>
  <li>HTTP plain GET</li>
  <li>RDQL</li>
  <li>&quot;Fetch&quot;</li>
  <li>&quot;SPO&quot; - a single triple match language.</li>
</ul>

<p>See the &quot;<a href="query-languages.html">Query Languages</a>&quot; page for full 
details about these query languages.</p>

<p>The <a href="protocol.html">protocol</a> used for access remote RDF is a simple 
use of HTTP GET which returns the smallest subgraph that matches the query (i.e. 
it gives the same results as the query on the original graph).&nbsp; Other operations 
use HTTP POST.</p>
<p>There is also a client library of Python, which issues queries to a Joseki 
server and uses the <a href="http://rdflib.net/">RDFLib</a> toolkit for 
client-side handling of the results.</p>
<h2>Fetching all the RDF about a Resource</h2>

<p>Access to the <a href="RDF_data_objects.html">fetch</a> functionality on RDF 
data objects is provided by the class HttpFetch.&nbsp; The &quot;fetch&quot; query 
language specifies the target model and the resource.&nbsp; A &quot;fetch&quot; request 
returns all the RDF associated with the resource known to the model.&nbsp; The 
exact model of RDF statements is determined by the server configuration.</p>

<pre class="box">HttpFetch fetch = new HttpFetch(modelURI, resourceURI) ;
Model obj = fetch.exec() ;</pre>
<p>Because fetching data objects is a query, requests use HTTP GET with all the 
usual caching and bookmarking.</p>

<h2>Executing RDQL queries on a remote model</h2>
<p>The primary class is <code>QueryEngineHTTP</code>, which implements the standard Jena QueryExecution 
interface for variable bindings.&nbsp; Remote queries are executed in the same manner 
as local queries, except that a different query execution object is used.</p>
<p>The following code fragments show using the client API in Java. See the Jena 
javadoc for more detailed documentation
on the general query classes and the Joseki javadoc for
<code>QueryEngineHTTP</code>.</p>
<pre class="box">Query q = new Query(queryString) ;
QueryExecution qe = <b>new QueryEngineHTTP(q, modelURI)</b> ;
QueryResults results = qe.exec() ;
for ( Iterator iter = results ; iter.hasNext() ; )
{
    ResultBinding rbind = (ResultBinding)iter.next() ;
    //  Assuming the query has a variable called &quot;x&quot; ...
    Object obj = rbind.get(&quot;x&quot;) ;
    // obj will be a Jena object: resource, property or RDFNode.
    System.out.println(&quot;x = &quot;+obj.toString() ;
}
results.close() ;</pre>

<h2>Low-level interface to query</h2>

<p>The class <code>HttpQuery</code> provides a wrapper to HTTP GET and is used 
by <code>HttpFetch</code> and <code>QueryEngineHTTP</code>.</p>

<h2>Other Operations</h2>

<p>See the javadoc for the package
<code>com.hp.hpl.jena.joseki</code>.</p>

</body>

</html><hr>
<div class="footer">
<p align="right">$Date: 2005-06-26 18:39:02 $ // $Revision: 1.1 $ // $Author: andy_seaborne $</p>
</div>
</body>
</html>