<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Virtuoso SPARQL Query Form</title>
		<style type="text/css">
label.n{ display: inline; margin-top: 10pt; }
body { font-family: arial, helvetica, sans-serif; font-size: 9pt; color: #234; }
fieldset { border: 2px solid #86b9d9; }
legend { font-size: 12pt; color: #86b9d9; }
label { font-weight: bold; }
h1 { width: 100%; background-color: #86b9d9; font-size: 18pt; font-weight: normal; color: #fff; height: 4ex; text-align: right; vertical-align: middle; padding-right:  8px; }
		</style>
		<script language="JavaScript">
var last_format = 1;
function format_select(query_obg)
{
  var query = query_obg.value; 
  var format = query_obg.form.format;

  if (query.match(/construct/i) && last_format == 1) {
    for(var i = format.options.length; i > 0; i--)
      format.options[i] = null;    format.options[1] = new Option('N3/Turtle','text/rdf+n3');
    format.options[2] = new Option('RDF/XML','application/rdf+xml');
    format.selectedIndex = 1;
    last_format = 2;
  }

  if (!query.match(/construct/i) && last_format == 2) {
    for(var i = format.options.length; i > 0; i--)
      format.options[i] = null;
    format.options[1] = new Option('HTML','text/html');
    format.options[2] = new Option('XML','application/sparql-results+xml');
    format.options[3] = new Option('JSON','application/sparql-results+json');
    format.options[4] = new Option('Javascript','application/javascript');
    format.selectedIndex = 1;
    last_format = 1;
  }
}
		</script>
	</head>
	<body>
		<div id="header">
			<h1>OpenLink Virtuoso SPARQL Query</h1>
		</div>
		<div id="main">
			<p>This query page is designed to help you test OpenLink Virtuoso SPARQL protocol endpoint. <br/>
			Consult the <a href="http://virtuoso.openlinksw.com/wiki/main/Main/VOSSparqlProtocol">Virtuoso Wiki page</a> describing the service 
			or the <a href="http://docs.openlinksw.com/virtuoso/">Online Virtuoso Documentation</a> section <a href="http://docs.openlinksw.com/virtuoso/rdfandsparql.html">RDF Database and SPARQL</a>.</p>
			<p>There is also a rich Web based user interface with sample queries. 
			You can access it at: <a href="/isparql">/isparql</a>.</p>
			<form action="" method="GET">
			<fieldset>
			<legend>Query</legend>
			  <label for="default-graph-uri">Default Graph URI</label>
			  <br />
			  <input type="text" name="default-graph-uri" id="default-graph-uri"
				  	value="" size="80"/>
			  <br /><br />
<select name="should-sponge" id="should-sponge">  <option selected="selected" value="">Use only local data (including data retrieved before), but do not retrieve more</option>
  <option value="soft">Retrieve remote RDF data for all missing source graphs</option>
  <option value="grab-all">Retrieve all missing remote RDF data that might be useful</option>
  <option value="grab-all-seealso">Retrieve all missing remote RDF data that might be useful, including seeAlso references</option>
  <option value="grab-everything">Try to download all referenced resources (this may be very slow and ineffecient)</option>
</select>
			  <br />
			  <label for="query">Query text</label>
			  <br />
			  <textarea rows="10" cols="60" name="query" id="query" onchange="format_select(this)" onkeyup="format_select(this)">SELECT * WHERE {?s ?p ?o}</textarea>
			  <br /><br />
			  <label for="format" class="n">Display Results As:</label>
			  <select name="format">
			    <option value="auto">Auto</option>
			    <option value="text/html" selected="selected">HTML</option>
			    <option value="application/sparql-results+xml">XML</option>
			    <option value="application/sparql-results+json">JSON</option>
			    <option value="application/javascript">Javascript</option>
			  </select>
&nbsp;&nbsp;&nbsp;
<input name="debug" type="checkbox" checked/>
			  <label for="debug" class="n">Rigorous check of the query</label>
&nbsp;&nbsp;&nbsp;
			  <input type="submit" value="Run Query"/>
			  <input type="reset" value="Reset"/>
			</fieldset>
			</form>
		</div>
	</body>
</html>
