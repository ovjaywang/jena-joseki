<html>

<head>
  <meta name="author" content="Andy Seaborne"/>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta http-equiv="Content-Language" content="en-gb">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <meta name="DC.Creator"    content="Andy Seaborne">
  <meta name="DC.Publisher"  content="">
  <meta name="DC.Title"      content="Joseki: RDF Data Objects">
  <meta name="DC.Rights"
        content="Copyright 2003, 2004, 2005 Hewlett-Packard Development Company LP">
  <meta name="DC.Identifier"
        content="http://www.joseki.org/RDF_data_objects.html">
  <meta name="DC.Format"     content="text/html; charset=iso-8859-1">
  <meta name="DC.Date"       content="$Date: 2005-01-03 20:26:33 $">
  <meta name="DC.Type"       content="web page">

<title>Joseki: RDF Data Objects</title>
<link rel="stylesheet" type="text/css" href="StyleSheets/joseki.css">
</head>

<body>
<h1>Fetching RDF : Data Objects</h1>

<p>RDF in a repository rarely comes in independent statements.&nbsp; The client does not know the form of the RDF available about a 
resource.&nbsp; A query is good for locating resources but extracting 
information may not just be a matter of the client listing the properties 
required.</p>

<p>For example, <a href="http://dublincore.org/">Dublin Core</a> defines a 
number of properties, such as &quot;title&quot; and &quot;creator&quot;, that can usefully describe 
digital content. Usually therer wil be several statements about the resource 
being described.&nbsp; Which properties are there on a given resource in this 
RDF repository?</p>
<font SIZE="2">
<p>Two issues arise:</p>
<ul>
  <li>Optional properties, where a property may or may not be supplied.</li>
  <li>Structures, where the useful data is in a structure of bNodes.</li>
</ul>
<p>In the first case, a query that lists all the Dublin Core properties will 
fail if any one of the properties is missing as the matching of the graph 
pattern fails.</p>
<p>In the second case, information such as a person's name, may itself be number 
of statements: in an RDF <a href="http://www.w3.org/TR/vcard-rdf">vCard</a>, 
there is a formatted name and also the name as a structure:</p>
<pre class="box">&lt;http://example.org/employee/1357&gt;
    vcard:FN &quot;John Smith&quot; ;
    vcard:N
        [ vcard:givenName   &quot;John&quot; ;
          vcard:familyName  &quot;Smith&quot;
        ] .</pre>
<p>We do not wish the client to have to determine which properties or structures 
are present.&nbsp; This would take a number of network operations.</p>
<p>When the vCard vocabulary was defined, there was the concept of a vCard 
&quot;object&quot;.&nbsp; Joseki provides a framework for the server-side definition of 
what constitutes a unit of information: the data object.&nbsp; We provide a 
single operation <i>fetch</i> to retrieve such data objects.&nbsp; </p>
<h2>The Fetch Operation</h2>
<p>The <i>fetch</i> operation is saying &quot;get all relevant RDF about this thing 
in the repository&quot;. The <i>fetch</i> operation is a query.&nbsp; It takes a single URI as argument 
and returns all RDF about that resource.&nbsp; The definition of &quot;all RDF&quot; is 
what the server decides, by various dynamically loaded modules, and the client 
gets a small RDF graph which it can inspect.</p>
<p>In the example, a vCard fetch module would return all the properties from the 
vCard namespace which have the resource as subject and all the structures, such 
as that starting from <code>vcard:N</code>, that compromise the concept of a 
vCard.</p>
<p>The exact RDF to return on a fetch operation is dependent on the 
configuration of teh Joseki server and on what the publisher wishes to provide 
for each RDF repository (model) on the server.&nbsp; The RDF returned is 
publication-specific.</p>
<p>A fetch request over HTTP GET might look like:</p>
<pre class="box">GET /model?lang=fetch&r=http://example.org/resource HTTP/1.1
Host: example.org</pre>
<p>Data objects have URIs (the full string including model and resource) so an 
application can make further RDF statements about the object.&nbsp; Because 
Joseki provides fetch as a HTTP GET operation, the data object has a well-fomred 
URI it is possible to cache them and make links to them from other application 
or documents.</p>
<p>Sometimes, the subject resource is identified by a property/value pair.&nbsp; 
A fetch request can alternatively provide an identifying property and value:</p>
<pre class="box">GET /model?lang=fetch&p=http://example.org/ns#prop&amp;v=literal HTTP/1.1
Host: example.org</pre>
<pre class="box">GET /model?lang=fetch&p=http://example.org/ns#prop&amp;o=http://host/x HTTP/1.1
Host: example.org</pre>
<p>Note that if the value is a URI, the parameter name is <code>o</code>, if it 
is a plain literal string, the parameter name is <code>v</code>.&nbsp; More 
complex expressions to locate the resource or resources of interest should be 
done with RDQL.</p>
</font>
<h2>Reference and Containment Links</h2>
<p>At a data object level, there are two kinds of links. This is not an absolute 
classification as it depends on context; this informal link characterisation is 
not meant as a rigid defintion.&nbsp; There is one kind of link in RDF (the 
statement or triple) and the idea of data objects is at a higher level.</p>
<p>Reference links connect a resource with other information.&nbsp; They are 
links out of the data object and do not imple the link target (the object of the 
RDF statement) forms part of the data object.</p>
<p>Containment links define the conneted part of the graph that comprise the 
data object subgraph.&nbsp; In the vCard example, it is the properties from the
<code>vcard</code> namespace.&nbsp; In the FOAF vocabulary, property like <code>
foaf:name</code> is a conatinment link, the property <code>foaf:knows</code> is 
not a containment link and <code>foaf:depiction</code> might be considered as 
either. This isn't an absolute classification and will depend on application 
context.</p>
<p>A <i>fetch</i> module should form a subgraph which includes nodes connected 
by containment links and not include nodes referred to by reference links.&nbsp;
<i>Fetch</i> modules are selected by the server configuration file and wil be 
appropriate to the published RDF.</p>



<hr>
<div class="footer">
<p align="right">$Date: 2005-01-03 20:26:33 $ // $Revision: 1.2 $ // $Author: andy_seaborne $</p>
</div>
</body>
</html>