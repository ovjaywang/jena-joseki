<html>

<head>

  <meta name="author" content="Andy Seaborne"/>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta http-equiv="Content-Language" content="en-gb">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <meta name="DC.Creator"    content="Andy Seaborne">
  <meta name="DC.Publisher"  content="">
  <meta name="DC.Title"      content="Joseki: Modules">
  <meta name="DC.Rights"
        content="Copyright 2003, 2004, Hewlett-Packard Development Company LP">
  <meta name="DC.Identifier"
        content="http://www.joseki.org/modules.html">
  <meta name="DC.Format"     content="text/html; charset=iso-8859-1">
  <meta name="DC.Date"       content="$Date: 2004-11-03 10:14:58 $">
  <meta name="DC.Type"       content="web page">

<title>Joseki: Modules</title>
<link rel="stylesheet" type="text/css" href="StyleSheets/joseki.css">
</head>

<body>
<h1>Modules: Adding functionality to Joseki</h1>

<p>The functionality provided by a Joseki server takes the form of 
different modules which are dynamically loaded when the server starts.&nbsp; This 
includes all query language processors, other operations and the data-specific 
&quot;fetch&quot; handlers.</p>

<h2>Module</h2>

<p>A module is simply a loadable unit.&nbsp; It must implement the following interface 
and must have a constructor with no arguments.</p>

<pre class="box">public interface Loadable
{
    public String getInterfaceURI() ;
    public void init(Resource binding,
                     Resource implementation,
                     AttachedModel aModel) ;
}
</pre>
<p>It provides the URI of the functionality  and this is checked against 
the configuration details.</p>

<p>Whenever a module is loaded and instantiated, the <code>init</code> method is 
called.&nbsp; The <code>init</code> method is given the resources from the 
configuration file that caused it to be loaded because these can have 
additional, module instance specific parameters.&nbsp; init is called once per 
instantiation of a module, just after the object is created.</p>

<h2>Example Declaration</h2>

<p>Consider the following example for the query processor for the GET operation. 
The first form is taken from the Joseki standard definitions file (a collection 
of common modules) that can be referenced from the configuration file.</p>

<pre class="box">&lt;http://server/testdata&gt;
    . . .
    joseki:hasQueryOperation joseki:BindingGET ;
    . . .  

joseki:BindingGET
    a   joseki:QueryLanguageBinding ;
    joseki:queryOperationName  "GET" ; 
    module:interface           joseki:QueryOperationGET ;
    module:implementation      joseki:ImplQueryOperationGET .

joseki:ImplQueryOperationGET
    a   joseki:QueryOperation ;
    module:className
        "org.joseki.server.processors.QueryProcessorGET" .
</pre>
<p>The second form below is an equivalent way of defining the module, but puts 
everything inline in the configuration file:</p>
<pre class="box">&lt;http://server/testdata&gt;
  . . .
  joseki:hasQueryOperation 
    [ a   joseki:QueryLanguageBinding ;
      joseki:queryOperationName  "GET" ; 
      module:interface           joseki:QueryOperationGET ;
      module:implementation
        [ a   joseki:QueryOperation ;
          module:className
             "org.joseki.server.processors.QueryProcessorGET" ;
        ]
    ] ;
  . . .
</pre>

<p>The property <code>joseki:hasQueryOperation</code> indicates the module; it 
is a subPropertyOf <code>module:module</code>.</p>

<p>The module description is in two parts: the binding being made, which is the 
instance of the module, and the implementation to be used, specifying the Java 
class name.&nbsp; There is a binding-specific parameter, <code>joseki:queryOperationName "GET"</code>, 
which provides additional information.</p>

<h2>See Also</h2>

<p>Data sources are not restricted to just files and Jena database backed 
models.&nbsp; Adapters can be written that execute an operation against any data 
source with the requirement that the results are in RDF.&nbsp; These adapters 
are loaded through the module mechanism.</p>
<p>The <i>fetch</i> mechanism uses modules to provide the server-side 
functionality that defines data objects.</p>



<hr>
<div class="footer">
<p align="right">$Date: 2004-11-03 10:14:58 $ // $Revision: 1.1 $ // $Author: andy_seaborne $</p>
</div>
</pre></body>
</html>