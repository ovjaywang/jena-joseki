Joseki3
=======

Add: robots control to forms:
    <META NAME="ROBOTS" CONTENT="NOINDEX">
in your HTML document, that document won't be indexed.

If you do:
    <META NAME="ROBOTS" CONTENT="NOFOLLOW">



--- MIME types
Hi Andy,

I have more requests related to (sigh) content negotiation. The  
question today is: What is the correct MIME type for each RDF syntax.  
I did some research on this. Joseki has it wrong a couple of times.  
Recommendations below.

First, please add support for these official MIME types:

application/x-turtle for Turtle
   This is the current official MIME type for Turtle, according to the
   spec [1]. application/turtle is planned, but has not been registered,
   and thus is not an official MIME type at the moment.
   
[DONE - application/turtle also offered]

text/rdf+n3 for N3
   This will be the official MIME type for N3, according to the spec  
[2].
   Its registration is pending. The older application/n3 is widely
   deployed, but was rejected because N3 belongs in the text/* tree.
   (Things in the text/* tree are supposed to be displayed as plain
   text if not understood by the client.)
   
[DONE - continue to offer application/n3]

text/plain for N-Triples
   The official MIME type for N-Triples is indeed text/plain [3]. Joseki
   currently refuses requests for text/plain, and serving N-Triples  
instead
   seems to be a good alternative.
   
[DONE]

Second, please remove support for these non-existing MIME types:

text/n3
   There are a few deployments of this, but it was never in  
consideration
   as an official MIME type.
   
[DONE]

application/n-triples
   This is supported by Joseki and RAP's implementation of the RDF  
Net API,
   but I couldn't find evidence for any client using or understanding  
this
   type.

[It's the ideal because of the x-*]

Third, please always send out spec-conformant Content-Type headers in  
responses, even if the client asked for an inofficial type. This  
means Joseki should always answer these Content-Type headers when  
serving RDF:

[DONE - there is a correction map]

application/rdf+xml
   when serving RDF/XML, even if the client asked for application/xml

application/x-turtle
   when serving Turtle, even if the client asked for application/turtle

text/rdf+n3; charset=utf-8
   when serving N3, even if the client asked for application/n3. The
   specification states that the charset=utf8 parameter *must* be sent
   in the Content-Type header to ensure that non-RDF browsers
   correctly display the document as plain text.

text/plain
   when serving N-Triples.

[DONE - always use UTF-8 for N3]

Finally, FYI: There's also text/rdf for RDF/XML. It has seen a lot of  
deployment in the early days. It is fundamentally broken because of a  
weird interaction between the MIME RFCs and the XML spec regarding  
character encoding. Fortunately it is on the way out. I recommend  
against adding support for it.

Cheers,
Richard

[1] http://www.dajobe.org/2004/01/turtle/#sec-mime
[2] http://www.w3.org/DesignIssues/Notation3
[3] http://www.w3.org/2001/sw/RDFCore/ntriples/
--- MIME types

==Release

+ Graph caching.
  Need some help from ARQ?

+ Documentation
    Change examples
    ChangeLog
  HTTP parameters
   webapps/WEB_INF/web.xml needs to be changed for a service

+ Release checking
	Download and front page.

+ Other endpoint for processor requests (web form)

- - - - - - - - - -

+ Refactor SPARQL.java to pick out the stages so the general process can be inherited.

+ error testing
  No joseki:ImplSPARQL leads to silent error
  
+ web.xml - change to explicit services and/or    http://localhost/sparql/ ...

+ Add a configurable output processor - default XML results / 
  Have SELECT only processor

+ Need "application/sparql-query"

+ Teach HttpUtils about "+" as in "application/sparql-results+xml"

+ Add version id (build, ARQ) to HTTP headers

+ Add strict mode (i.e it's SPARQL and SPARQL only) q service
  As separate processors?

+ Test harness

- - - - - - - - - - - -

+ Option for server side XSLT
  Firefox refuses to execute from a different server?

+ "Accept: */*" matches text/* and gets readable form.
  Should be application/rdf+xml.
  maybe test for application/rdf+xml, application/xml first?
